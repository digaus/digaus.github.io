!function(){"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(self.webpackChunkShellyHome=self.webpackChunkShellyHome||[]).push([[3952],{43952:function(e,r,i){i.r(r),i.d(r,{HomePageModule:function(){return y}});var o=i(38583),c=i(92859),a=i(3679),u=i(12630),s=i(64762),f=i(9074),l=i(52580),g=i(42810),d=i(72773),p=i(26215),h=i(37716);function x(t,n){1&t&&h._UZ(0,"ion-progress-bar",7)}function m(t,n){if(1&t){var e=h.EpF();h.ynx(0),h.TgZ(1,"ion-header",1),h.TgZ(2,"ion-toolbar"),h.TgZ(3,"ion-title"),h._uU(4," Wifi "),h.qZA(),h.YNc(5,x,1,0,"ion-progress-bar",2),h.qZA(),h.qZA(),h.TgZ(6,"ion-content",3),h.TgZ(7,"ion-button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().getIP()}),h._uU(8,"Wifi.getIP"),h.qZA(),h.TgZ(9,"ion-button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().getSSID()}),h._uU(10,"Wifi.getSSID"),h.qZA(),h.TgZ(11,"ion-button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().disconnect()}),h._uU(12,"Wifi.disconnect"),h.qZA(),h.TgZ(13,"ion-item"),h.TgZ(14,"ion-label"),h._uU(15," SSID "),h.qZA(),h.TgZ(16,"ion-input",5),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw().ssid=t}),h.qZA(),h.qZA(),h.TgZ(17,"ion-item"),h.TgZ(18,"ion-label"),h._uU(19," Password "),h.qZA(),h.TgZ(20,"ion-input",5),h.NdJ("ngModelChange",function(t){return h.CHM(e),h.oxw().password=t}),h.qZA(),h.qZA(),h.TgZ(21,"ion-button",4),h.NdJ("click",function(){h.CHM(e);var t=h.oxw();return t.connect(t.ssid,t.password)}),h._uU(22,"Wifi.connect"),h.qZA(),h.TgZ(23,"ion-button",4),h.NdJ("click",function(){h.CHM(e);var t=h.oxw();return t.connectPrefix(t.ssid,t.password)}),h._uU(24,"Wifi.connectPrefix"),h.qZA(),h.TgZ(25,"ion-item"),h.TgZ(26,"ion-label"),h._uU(27," Current SSID "),h.qZA(),h._UZ(28,"ion-input",6),h.qZA(),h.TgZ(29,"ion-item"),h.TgZ(30,"ion-label"),h._uU(31," Current IP "),h.qZA(),h._UZ(32,"ion-input",6),h.qZA(),h.TgZ(33,"ion-item"),h.TgZ(34,"ion-label"),h._uU(35," Current FileUrl "),h.qZA(),h._UZ(36,"ion-input",6),h.qZA(),h.TgZ(37,"ion-item"),h.TgZ(38,"ion-label"),h._uU(39," Last Error "),h.qZA(),h._UZ(40,"ion-input",6),h.qZA(),h.TgZ(41,"ion-button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().start()}),h._uU(42,"FileServer.start"),h.qZA(),h.TgZ(43,"ion-button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().stop()}),h._uU(44,"FileServer.stop"),h.qZA(),h.qZA(),h.BQk()}if(2&t){var r=n.ngIf,i=h.oxw();h.xp6(1),h.Q6J("translucent",!0),h.xp6(4),h.Q6J("ngIf",r.loading),h.xp6(1),h.Q6J("fullscreen",!0),h.xp6(10),h.Q6J("ngModel",i.ssid),h.xp6(4),h.Q6J("ngModel",i.password),h.xp6(8),h.Q6J("value",r.ssid),h.xp6(4),h.Q6J("value",r.ip),h.xp6(4),h.Q6J("value",r.fileUrl),h.xp6(4),h.Q6J("value",r.error)}}var v,Z={},w=[{path:"",component:(v=function(){function e(){t(this,e),this.state$=new p.X(Z)}var r,i,o;return r=e,(i=[{key:"ngOnInit",value:function(){this.initFolder()}},{key:"connectPrefix",value:function(t,n){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Z.loading=!0,this.state$.next(Z),e.next=4,l.k.connectPrefix({ssid:t,password:n}).then(function(t){return Z.ssid=t.ssid}).catch(function(t){return Z.error=t.toString()});case 4:Z.loading=!1,this.state$.next(Z);case 6:case"end":return e.stop()}},e,this)}))}},{key:"connect",value:function(t,n){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Z.loading=!0,this.state$.next(Z),e.next=4,l.k.connect({ssid:t,password:n}).then(function(t){return Z.ssid=t.ssid}).catch(function(t){return Z.error=t.toString()});case 4:Z.loading=!1,this.state$.next(Z);case 6:case"end":return e.stop()}},e,this)}))}},{key:"disconnect",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Z.loading=!0,this.state$.next(Z),t.next=4,l.k.disconnect().catch(function(t){return Z.error=t.toString()});case 4:Z.loading=!1,this.state$.next(Z);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getSSID",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Z.loading=!0,this.state$.next(Z),t.next=4,l.k.getSSID().then(function(t){return Z.ssid=t.ssid}).catch(function(t){return Z.error=t.toString()});case 4:Z.loading=!1,this.state$.next(Z);case 6:case"end":return t.stop()}},t,this)}))}},{key:"getIP",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Z.loading=!0,this.state$.next(Z),t.next=4,l.k.getIP().then(function(t){return Z.ip=t.ip}).catch(function(t){return Z.error=t.toString()});case 4:Z.loading=!1,this.state$.next(Z);case 6:case"end":return t.stop()}},t,this)}))}},{key:"start",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Z.loading=!0,this.state$.next(Z),n=this.directory.uri,t.next=4,f.D.start({path:n,port:8080}).then(function(t){return Z.fileUrl="http://"+t.ip+":8080/test.txt"}).catch(function(t){return Z.error=t.toString()});case 4:Z.loading=!1,this.state$.next(Z);case 6:case"end":return t.stop()}},t,this)}))}},{key:"stop",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Z.loading=!0,this.state$.next(Z),t.next=4,f.D.stop().catch(function(t){return Z.error=t.toString()});case 4:Z.loading=!1,this.state$.next(Z);case 6:case"end":return t.stop()}},t,this)}))}},{key:"initFolder",value:function(){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.A.getInfo();case 2:return n=t.sent,e=d.tP.Data,("mac"===n.operatingSystem||"windows"===n.operatingSystem)&&(e=d.tP.Documents),t.next=7,d.fy.mkdir({path:"files",directory:e,recursive:!1}).catch(function(t){return console.error(t),null});case 7:return t.next=9,d.fy.writeFile({path:"files/test.txt",directory:e,data:"This is a test file",encoding:d.ez.UTF8});case 9:return t.next=11,d.fy.getUri({path:"files",directory:e}).catch(function(t){return console.error(t),null});case 11:this.directory=t.sent;case 12:case"end":return t.stop()}},t,this)}))}}])&&n(r.prototype,i),o&&n(r,o),e}(),v.\u0275fac=function(t){return new(t||v)},v.\u0275cmp=h.Xpm({type:v,selectors:[["app-home"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"translucent"],["type","indeterminate",4,"ngIf"],[3,"fullscreen"],["expand","full","color","light","color","primary",3,"click"],[3,"ngModel","ngModelChange"],["readonly","true",3,"value"],["type","indeterminate"]],template:function(t,n){1&t&&(h.YNc(0,m,45,9,"ng-container",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,n.state$))},directives:[o.O5,c.Gu,c.sr,c.wd,c.W2,c.YG,c.Ie,c.Q$,c.pK,c.j9,a.JJ,a.On,c.X7],pipes:[o.Ov],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),v)}],k=function(){var n=function n(){t(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[u.Bz.forChild(w)],u.Bz]}),n}(),y=function(){var n=function n(){t(this,n)};return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[o.ez,a.u5,c.Pc,k]]}),n}()}}])}();