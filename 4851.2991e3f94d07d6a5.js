"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(T,p,a)=>{a.r(p),a.d(p,{HomePageModule:()=>M});var _=a(6895),s=a(9565),f=a(4006),m=a(2837),g=a(9671),h=a(3075),d=a(2085),x=a(5838),u=a(6953),Z=a(591),t=a(4650);function P(r,l){1&r&&t._UZ(0,"ion-progress-bar",7)}function y(r,l){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title"),t._uU(4," Wifi "),t.qZA(),t.YNc(5,P,1,0,"ion-progress-bar",2),t.qZA()(),t.TgZ(6,"ion-content",3)(7,"ion-button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.getIP())}),t._uU(8,"Wifi.getIP"),t.qZA(),t.TgZ(9,"ion-button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.getSSID())}),t._uU(10,"Wifi.getSSID"),t.qZA(),t.TgZ(11,"ion-button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.disconnect())}),t._uU(12,"Wifi.disconnect"),t.qZA(),t.TgZ(13,"ion-item")(14,"ion-label"),t._uU(15," SSID "),t.qZA(),t.TgZ(16,"ion-input",5),t.NdJ("ngModelChange",function(o){t.CHM(n);const c=t.oxw();return t.KtG(c.ssid=o)}),t.qZA()(),t.TgZ(17,"ion-item")(18,"ion-label"),t._uU(19," Password "),t.qZA(),t.TgZ(20,"ion-input",5),t.NdJ("ngModelChange",function(o){t.CHM(n);const c=t.oxw();return t.KtG(c.password=o)}),t.qZA()(),t.TgZ(21,"ion-button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.connect(o.ssid,o.password))}),t._uU(22,"Wifi.connect"),t.qZA(),t.TgZ(23,"ion-button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.connectPrefix(o.ssid,o.password))}),t._uU(24,"Wifi.connectPrefix"),t.qZA(),t.TgZ(25,"ion-item")(26,"ion-label"),t._uU(27," Current SSID "),t.qZA(),t._UZ(28,"ion-input",6),t.qZA(),t.TgZ(29,"ion-item")(30,"ion-label"),t._uU(31," Current IP "),t.qZA(),t._UZ(32,"ion-input",6),t.qZA(),t.TgZ(33,"ion-item")(34,"ion-label"),t._uU(35," Current FileUrl "),t.qZA(),t._UZ(36,"ion-input",6),t.qZA(),t.TgZ(37,"ion-item")(38,"ion-label"),t._uU(39," Last Error "),t.qZA(),t._UZ(40,"ion-input",6),t.qZA(),t.TgZ(41,"ion-button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.start())}),t._uU(42,"FileServer.start"),t.qZA(),t.TgZ(43,"ion-button",4),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.stop())}),t._uU(44,"FileServer.stop"),t.qZA()(),t.BQk()}if(2&r){const n=l.ngIf,i=t.oxw();t.xp6(1),t.Q6J("translucent",!0),t.xp6(4),t.Q6J("ngIf",n.loading),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(10),t.Q6J("ngModel",i.ssid),t.xp6(4),t.Q6J("ngModel",i.password),t.xp6(8),t.Q6J("value",n.ssid),t.xp6(4),t.Q6J("value",n.ip),t.xp6(4),t.Q6J("value",n.fileUrl),t.xp6(4),t.Q6J("value",n.error)}}const e={},v=[{path:"",component:(()=>{class r{constructor(){this.state$=new Z.X(e)}ngOnInit(){this.initFolder()}connectPrefix(n,i){var o=this;return(0,g.Z)(function*(){e.loading=!0,o.state$.next(e),yield d.k.connectPrefix({ssid:n,password:i}).then(c=>e.ssid=c.ssid).catch(c=>e.error=c.toString()),e.loading=!1,o.state$.next(e)})()}connect(n,i){var o=this;return(0,g.Z)(function*(){e.loading=!0,o.state$.next(e),yield d.k.connect({ssid:n,password:i}).then(c=>e.ssid=c.ssid).catch(c=>e.error=c.toString()),e.loading=!1,o.state$.next(e)})()}disconnect(){var n=this;return(0,g.Z)(function*(){e.loading=!0,n.state$.next(e),yield d.k.disconnect().catch(i=>e.error=i.toString()),e.loading=!1,n.state$.next(e)})()}getSSID(){var n=this;return(0,g.Z)(function*(){e.loading=!0,n.state$.next(e),yield d.k.getSSID().then(i=>e.ssid=i.ssid).catch(i=>e.error=i.toString()),e.loading=!1,n.state$.next(e)})()}getIP(){var n=this;return(0,g.Z)(function*(){e.loading=!0,n.state$.next(e),yield d.k.getIP().then(i=>e.ip=i.ip).catch(i=>e.error=i.toString()),e.loading=!1,n.state$.next(e)})()}start(){var n=this;return(0,g.Z)(function*(){e.loading=!0,n.state$.next(e);const i=n.directory.uri;yield h.D.start({path:i,port:8080}).then(o=>e.fileUrl="http://"+o.ip+":8080/test.txt").catch(o=>e.error=o.toString()),e.loading=!1,n.state$.next(e)})()}stop(){var n=this;return(0,g.Z)(function*(){e.loading=!0,n.state$.next(e),yield h.D.stop().catch(i=>e.error=i.toString()),e.loading=!1,n.state$.next(e)})()}initFolder(){var n=this;return(0,g.Z)(function*(){const i=yield x.A.getInfo();let o=u.tP.Data;("mac"===i.operatingSystem||"windows"===i.operatingSystem)&&(o=u.tP.Documents),yield u.fy.mkdir({path:"files",directory:o,recursive:!1}).catch(c=>(console.error(c),null)),yield u.fy.writeFile({path:"files/test.txt",directory:o,data:"This is a test file",encoding:u.ez.UTF8}),n.directory=yield u.fy.getUri({path:"files",directory:o}).catch(c=>(console.error(c),null))})()}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"translucent"],["type","indeterminate",4,"ngIf"],[3,"fullscreen"],["expand","full","color","light","color","primary",3,"click"],[3,"ngModel","ngModelChange"],["readonly","true",3,"value"],["type","indeterminate"]],template:function(n,i){1&n&&(t.YNc(0,y,45,9,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,i.state$))},dependencies:[_.O5,f.JJ,f.On,s.YG,s.W2,s.Gu,s.pK,s.Ie,s.Q$,s.X7,s.wd,s.sr,s.j9,_.Ov],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),r})()}];let H=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[m.Bz.forChild(v),m.Bz]}),r})(),M=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[_.ez,f.u5,s.Pc,H]}),r})()}}]);