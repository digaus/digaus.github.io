"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(k,p,a)=>{a.r(p),a.d(p,{HomePageModule:()=>I});var _=a(177),c=a(8974),f=a(9417),h=a(9793),u=a(467),P=a(551),m=a(6006),x=a(9316),d=a(2739),F=a(4412),t=a(4438);function j(i,l){1&i&&t.nrm(0,"ion-progress-bar",7)}function y(i,l){if(1&i){const r=t.RV6();t.qex(0),t.j41(1,"ion-header",1)(2,"ion-toolbar")(3,"ion-title"),t.EFF(4," Wifi "),t.k0s(),t.DNE(5,j,1,0,"ion-progress-bar",2),t.k0s()(),t.j41(6,"ion-content",3)(7,"ion-button",4),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.getIP())}),t.EFF(8,"Wifi.getIP"),t.k0s(),t.j41(9,"ion-button",4),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.getSSID())}),t.EFF(10,"Wifi.getSSID"),t.k0s(),t.j41(11,"ion-button",4),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.disconnect())}),t.EFF(12,"Wifi.disconnect"),t.k0s(),t.j41(13,"ion-item")(14,"ion-label"),t.EFF(15," SSID "),t.k0s(),t.j41(16,"ion-input",5),t.mxI("ngModelChange",function(n){t.eBV(r);const s=t.XpG();return t.DH7(s.ssid,n)||(s.ssid=n),t.Njj(n)}),t.k0s()(),t.j41(17,"ion-item")(18,"ion-label"),t.EFF(19," Password "),t.k0s(),t.j41(20,"ion-input",5),t.mxI("ngModelChange",function(n){t.eBV(r);const s=t.XpG();return t.DH7(s.password,n)||(s.password=n),t.Njj(n)}),t.k0s()(),t.j41(21,"ion-button",4),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.connect(n.ssid,n.password))}),t.EFF(22,"Wifi.connect"),t.k0s(),t.j41(23,"ion-button",4),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.connectPrefix(n.ssid,n.password))}),t.EFF(24,"Wifi.connectPrefix"),t.k0s(),t.j41(25,"ion-item")(26,"ion-label"),t.EFF(27," Current SSID "),t.k0s(),t.nrm(28,"ion-input",6),t.k0s(),t.j41(29,"ion-item")(30,"ion-label"),t.EFF(31," Current IP "),t.k0s(),t.nrm(32,"ion-input",6),t.k0s(),t.j41(33,"ion-item")(34,"ion-label"),t.EFF(35," Current FileUrl "),t.k0s(),t.nrm(36,"ion-input",6),t.k0s(),t.j41(37,"ion-item")(38,"ion-label"),t.EFF(39," Last Error "),t.k0s(),t.nrm(40,"ion-input",6),t.k0s(),t.j41(41,"ion-button",4),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.start())}),t.EFF(42,"FileServer.start"),t.k0s(),t.j41(43,"ion-button",4),t.bIt("click",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.stop())}),t.EFF(44,"FileServer.stop"),t.k0s()(),t.bVm()}if(2&i){const r=l.ngIf,e=t.XpG();t.R7$(),t.Y8G("translucent",!0),t.R7$(4),t.Y8G("ngIf",r.loading),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(10),t.R50("ngModel",e.ssid),t.R7$(4),t.R50("ngModel",e.password),t.R7$(8),t.Y8G("value",r.ssid),t.R7$(4),t.Y8G("value",r.ip),t.R7$(4),t.Y8G("value",r.fileUrl),t.R7$(4),t.Y8G("value",r.error)}}const o={},v=[{path:"",component:(()=>{var i;class l{constructor(){this.state$=new F.t(o)}ngOnInit(){this.initFolder()}connectPrefix(e,n){var s=this;return(0,u.A)(function*(){o.loading=!0,s.state$.next(o),yield m.M.connectPrefix({ssid:e,password:n}).then(g=>o.ssid=g.ssid).catch(g=>o.error=g.toString()),o.loading=!1,s.state$.next(o)})()}connect(e,n){var s=this;return(0,u.A)(function*(){o.loading=!0,s.state$.next(o),yield m.M.connect({ssid:e,password:n}).then(g=>o.ssid=g.ssid).catch(g=>o.error=g.toString()),o.loading=!1,s.state$.next(o)})()}disconnect(){var e=this;return(0,u.A)(function*(){o.loading=!0,e.state$.next(o),yield m.M.disconnect().catch(n=>o.error=n.toString()),o.loading=!1,e.state$.next(o)})()}getSSID(){var e=this;return(0,u.A)(function*(){o.loading=!0,e.state$.next(o),yield m.M.getSSID().then(n=>o.ssid=n.ssid).catch(n=>o.error=n.toString()),o.loading=!1,e.state$.next(o)})()}getIP(){var e=this;return(0,u.A)(function*(){o.loading=!0,e.state$.next(o),yield m.M.getIP().then(n=>o.ip=n.ip).catch(n=>o.error=n.toString()),o.loading=!1,e.state$.next(o)})()}start(){var e=this;return(0,u.A)(function*(){o.loading=!0,e.state$.next(o);const n=e.directory.uri;yield P.q.start({path:n,port:8080}).then(s=>o.fileUrl="http://"+s.ip+":8080/test.txt").catch(s=>o.error=s.toString()),o.loading=!1,e.state$.next(o)})()}stop(){var e=this;return(0,u.A)(function*(){o.loading=!0,e.state$.next(o),yield P.q.stop().catch(n=>o.error=n.toString()),o.loading=!1,e.state$.next(o)})()}initFolder(){var e=this;return(0,u.A)(function*(){const n=yield x.p.getInfo();let s=d.__.Data;("mac"===n.operatingSystem||"windows"===n.operatingSystem)&&(s=d.__.Documents),yield d.YA.mkdir({path:"files",directory:s,recursive:!1}).catch(g=>(console.error(g),null)),yield d.YA.writeFile({path:"files/test.txt",directory:s,data:"This is a test file",encoding:d.Wi.UTF8}),e.directory=yield d.YA.getUri({path:"files",directory:s}).catch(g=>(console.error(g),null))})()}}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.VBU({type:i,selectors:[["app-home"]],decls:2,vars:3,consts:[[4,"ngIf"],[3,"translucent"],["type","indeterminate",4,"ngIf"],[3,"fullscreen"],["expand","full","color","light","color","primary",3,"click"],[3,"ngModelChange","ngModel"],["readonly","true",3,"value"],["type","indeterminate"]],template:function(e,n){1&e&&(t.DNE(0,y,45,9,"ng-container",0),t.nI1(1,"async")),2&e&&t.Y8G("ngIf",t.bMT(1,1,n.state$))},dependencies:[_.bT,f.BC,f.vS,c.Jm,c.W9,c.eU,c.$w,c.uz,c.he,c.FH,c.BC,c.ai,c.Gw,_.Jj],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),l})()}];let M=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[h.iI.forChild(v),h.iI]}),l})(),I=(()=>{var i;class l{}return(i=l).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[_.MD,f.YN,c.bv,M]}),l})()}}]);