"use strict";(self.webpackChunkShellyHome=self.webpackChunkShellyHome||[]).push([[3544],{63544:function(t,e,n){n.r(e),n.d(e,{WelcomePageModule:function(){return P}});var i=n(38583),o=n(3679),a=n(7539),s=n(49983),l=n(22850),r=n(92859),c=n(29790),g=n(63423),p=n(64762),d=n(88592),m=n(34229),u=n(26215),h=n(88002),Z=n(84872),f=n(97722),x=n(37716),v=n(56448),b=n(56149),A=n(98295),w=n(72458);const T=["slides"];function M(t,e){if(1&t&&(x.TgZ(0,"mat-option",27),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t){const t=e.$implicit;x.Q6J("value",t),x.xp6(1),x.hij(" ",x.lcZ(2,2,"app.commons.languages["+t+"].label")," ")}}function C(t,e){1&t&&(x.TgZ(0,"ion-label"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t&&(x.Udp("margin-top","1px"),x.xp6(1),x.Oqu(x.lcZ(2,3,"app.component.more.dark-theme.label")))}function L(t,e){1&t&&(x.TgZ(0,"ion-label"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t&&(x.Udp("margin-top","1px"),x.xp6(1),x.Oqu(x.lcZ(2,3,"app.component.more.light-theme.label")))}function q(t,e){1&t&&(x.TgZ(0,"ion-label"),x._uU(1),x.ALo(2,"translate"),x.qZA()),2&t&&(x.Udp("margin-top","1px"),x.xp6(1),x.Oqu(x.lcZ(2,3,"app.component.more.system-theme.label")))}function _(t,e){1&t&&x._UZ(0,"ion-progress-bar",28)}function k(t,e){1&t&&x._UZ(0,"ion-progress-bar",28)}function O(t,e){if(1&t){const t=x.EpF();x.TgZ(0,"div",3),x.TgZ(1,"ion-slides",4,5),x.NdJ("ionSlideDidChange",function(){return x.CHM(t),x.oxw().slidesDidChange()}),x.TgZ(3,"ion-slide"),x.TgZ(4,"div",6),x.TgZ(5,"img",7),x.NdJ("load",function(){return x.CHM(t),x.oxw().imageLoaded()}),x.ALo(6,"async"),x.qZA(),x.TgZ(7,"div",8),x.TgZ(8,"h2"),x._uU(9),x.ALo(10,"translate"),x.qZA(),x._UZ(11,"p",9),x.ALo(12,"translate"),x.TgZ(13,"mat-form-field",10),x.TgZ(14,"mat-label"),x._uU(15),x.ALo(16,"translate"),x.qZA(),x.TgZ(17,"mat-select",11),x.NdJ("ngModelChange",function(e){return x.CHM(t),x.oxw().language=e})("ngModelChange",function(){return x.CHM(t),x.oxw().selectLang()}),x.YNc(18,M,3,4,"mat-option",12),x.qZA(),x.qZA(),x.TgZ(19,"p",13),x.TgZ(20,"ion-chip",14),x.NdJ("click",function(){return x.CHM(t),x.oxw().toggleTheme()}),x._UZ(21,"ion-icon",15),x.YNc(22,C,3,5,"ion-label",16),x.YNc(23,L,3,5,"ion-label",16),x.YNc(24,q,3,5,"ion-label",16),x.qZA(),x.qZA(),x.TgZ(25,"p"),x.TgZ(26,"a",17),x.TgZ(27,"b"),x.TgZ(28,"u"),x._uU(29),x.ALo(30,"translate"),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.TgZ(31,"ion-slide"),x.TgZ(32,"div",6),x._UZ(33,"img",18),x.TgZ(34,"h2"),x._uU(35),x.ALo(36,"translate"),x.qZA(),x._UZ(37,"p",9),x.ALo(38,"translate"),x.qZA(),x.qZA(),x.TgZ(39,"ion-slide"),x.TgZ(40,"div",6),x._UZ(41,"img",19),x.TgZ(42,"h2"),x._uU(43),x.ALo(44,"translate"),x.qZA(),x._UZ(45,"p",9),x.ALo(46,"translate"),x.qZA(),x.qZA(),x.TgZ(47,"ion-slide"),x.TgZ(48,"div",6),x._UZ(49,"img",20),x.TgZ(50,"h2"),x._uU(51),x.ALo(52,"translate"),x.qZA(),x._UZ(53,"p",9),x.ALo(54,"translate"),x.TgZ(55,"ion-button",21),x.NdJ("click",function(){return x.CHM(t),x.oxw().skipLogin()}),x._uU(56),x.ALo(57,"translate"),x._UZ(58,"ion-icon",22),x.YNc(59,_,1,0,"ion-progress-bar",23),x.qZA(),x.TgZ(60,"mat-form-field",10),x.TgZ(61,"mat-label"),x._uU(62),x.ALo(63,"translate"),x.qZA(),x.TgZ(64,"input",24),x.NdJ("ngModelChange",function(e){return x.CHM(t),x.oxw().email=e}),x.qZA(),x.qZA(),x.TgZ(65,"mat-form-field",10),x.TgZ(66,"mat-label"),x._uU(67),x.ALo(68,"translate"),x.qZA(),x.TgZ(69,"input",25),x.NdJ("ngModelChange",function(e){return x.CHM(t),x.oxw().password=e}),x.qZA(),x.qZA(),x.TgZ(70,"ion-button",21),x.NdJ("click",function(){return x.CHM(t),x.oxw().executeLogin()}),x._uU(71),x.ALo(72,"translate"),x._UZ(73,"ion-icon",26),x.YNc(74,k,1,0,"ion-progress-bar",23),x.qZA(),x.qZA(),x.qZA(),x.qZA(),x.qZA()}if(2&t){const t=e.ngIf,n=x.oxw();x.xp6(1),x.Q6J("options",n.slideOpts),x.xp6(4),x.ekj("imgInitDone",t.initDone),x.Q6J("src",!1===x.lcZ(6,37,n.darkTheme$)?"./assets/images/logo.png":"./assets/images/logo-dark.png",x.LSH),x.xp6(2),x.ekj("initDone",t.initDone),x.xp6(2),x.Oqu(x.lcZ(10,39,"app.component.welcome.welcome.label")),x.xp6(2),x.Q6J("innerHTML",x.lcZ(12,41,"app.component.welcome.welcome-text.label"),x.oJD),x.xp6(2),x.Udp("padding-top","50px"),x.xp6(2),x.Oqu(x.lcZ(16,43,"app.commons.languages.label")),x.xp6(2),x.Q6J("ngModel",n.language),x.xp6(1),x.Q6J("ngForOf",t.languages),x.xp6(4),x.Q6J("ngIf",!0===n.settings.darkTheme),x.xp6(1),x.Q6J("ngIf",!1===n.settings.darkTheme),x.xp6(1),x.Q6J("ngIf",null==n.settings.darkTheme),x.xp6(5),x.Oqu(x.lcZ(30,45,"app.component.welcome.languages-missing.label")),x.xp6(4),x.Udp("padding-top","15px")("padding-bottom","15px"),x.xp6(2),x.Oqu(x.lcZ(36,47,"app.component.welcome.creation.label")),x.xp6(2),x.Q6J("innerHTML",x.lcZ(38,49,"app.component.welcome.creation-text.label"),x.oJD),x.xp6(6),x.Oqu(x.lcZ(44,51,"app.component.welcome.features.label")),x.xp6(2),x.Q6J("innerHTML",x.lcZ(46,53,"app.component.welcome.features-text.label"),x.oJD),x.xp6(6),x.Oqu(x.lcZ(52,55,"app.component.welcome.start.label")),x.xp6(2),x.Q6J("innerHTML",x.lcZ(54,57,"app.component.welcome.start-text.label"),x.oJD),x.xp6(2),x.Q6J("disabled",t.loginLoading||t.skipLoginLoading),x.xp6(1),x.hij(" ",x.lcZ(57,59,"app.component.welcome.skip-login.label")," "),x.xp6(3),x.Q6J("ngIf",t.skipLoginLoading),x.xp6(3),x.Oqu(x.lcZ(63,61,"app.component.welcome.email.label")),x.xp6(2),x.Q6J("ngModel",n.email),x.xp6(3),x.Oqu(x.lcZ(68,63,"app.component.welcome.password.label")),x.xp6(2),x.Q6J("ngModel",n.password),x.xp6(1),x.Q6J("disabled",t.loginLoading||t.skipLoginLoading),x.xp6(1),x.hij(" ",x.lcZ(72,65,"app.component.welcome.login.label")," "),x.xp6(3),x.Q6J("ngIf",t.loginLoading)}}function J(t,e){if(1&t){const t=x.EpF();x.TgZ(0,"ion-fab",29),x.TgZ(1,"ion-fab-button",30),x.NdJ("click",function(){return x.CHM(t),x.oxw().slides.slidePrev()}),x._UZ(2,"ion-icon",31),x.qZA(),x.qZA()}}function y(t,e){if(1&t){const t=x.EpF();x.TgZ(0,"ion-fab",32),x.TgZ(1,"ion-fab-button",30),x.NdJ("click",function(){return x.CHM(t),x.oxw().slides.slideNext()}),x._UZ(2,"ion-icon",33),x.qZA(),x.qZA()}}let U=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.navController=e,this.lookupService=n,this.translateService=i,this.state$=new u.X({initDone:!1}),this.slideOpts={initialSlide:0,speed:400},this.currentSlide$=new u.X(0)}ngOnInit(){this.state$.value.languages=this.translateService.langs,this.state$.next(this.state$.value),this.translateService.onLangChange.pipe((0,h.U)(()=>this.translateService.langs)).subscribe(t=>{this.state$.value.languages=t,this.state$.next(this.state$.value)}),this.language=this.translateService.currentLang,this.settings=this.lookupService.settings,this.darkTheme$=this.lookupService.subDarkTheme()}selectLang(){this.translateService.use(this.language);const t=this.lookupService.settings;t.language=this.language,this.lookupService.setSettings(t)}toggleTheme(){!0===this.settings.darkTheme?this.settings.darkTheme=!1:!1===this.settings.darkTheme?this.settings.darkTheme=void 0:null==this.settings.darkTheme&&(this.settings.darkTheme=!0),this.lookupService.setSettings(this.settings),this.lookupService.setDarkMode()}imageLoaded(){return(0,p.mG)(this,void 0,void 0,function*(){yield(0,f.Vs)(200),yield d.c.hide({fadeOutDuration:0}),this.state$.value.initDone=!0,this.state$.next(this.state$.value),this.slides.update(),yield(0,f.Vs)(10),this.slides.update()})}skipLogin(){return(0,p.mG)(this,void 0,void 0,function*(){this.state$.value.skipLoginLoading=!0,this.state$.next(this.state$.value),yield this.navController.navigateRoot("dashboard",{animated:!0}),this.state$.value.skipLoginLoading=!1,this.state$.next(this.state$.value)})}executeLogin(){return(0,p.mG)(this,void 0,void 0,function*(){this.state$.value.loginLoading=!0,this.state$.next(this.state$.value),yield this.authService.login(this.email,this.password);const t=new Z.n;t.email=this.email,t.password=this.password?m(this.password):null,this.lookupService.selectUser(t),yield this.navController.navigateRoot("dashboard",{animated:!0}),this.state$.value.loginLoading=!1,this.state$.next(this.state$.value)})}slidesDidChange(){return(0,p.mG)(this,void 0,void 0,function*(){const t=yield this.slides.getActiveIndex();this.currentSlide$.next(t)})}}return t.\u0275fac=function(e){return new(e||t)(x.Y36(v.e),x.Y36(r.SH),x.Y36(b.W),x.Y36(c.sK))},t.\u0275cmp=x.Xpm({type:t,selectors:[["app-welcome"]],viewQuery:function(t,e){if(1&t&&x.Gf(T,5),2&t){let t;x.iGM(t=x.CRH())&&(e.slides=t.first)}},decls:7,vars:9,consts:[["class","container",4,"ngIf"],["mode","md","vertical","bottom","horizontal","start","slot","fixed",4,"ngIf"],["mode","md","vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"container"],["pager","true",3,"options","ionSlideDidChange"],["slides",""],[1,"slide-container"],[1,"imgInit",3,"src","load"],[1,"init"],[3,"innerHTML"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"theme"],[3,"click"],["color","primary","name","contrast"],[3,"margin-top",4,"ngIf"],["href","https://github.com/digaus/capacitor-shellyhome","target","_blank"],["src","./assets/images/pack1/026-lighting.svg"],["src","./assets/images/pack1/034-responsive.svg"],["src","./assets/images/pack1/040-smart house.svg"],["fill","clear",3,"disabled","click"],["slot","end","name","arrow-forward"],["type","indeterminate",4,"ngIf"],["matInput","","type","email",3,"ngModel","ngModelChange"],["matInput","","type","password",3,"ngModel","ngModelChange"],["slot","end","name","log-in-outline"],[3,"value"],["type","indeterminate"],["mode","md","vertical","bottom","horizontal","start","slot","fixed"],["size","small","color","light",3,"click"],["name","chevron-back-outline"],["mode","md","vertical","bottom","horizontal","end","slot","fixed"],["name","chevron-forward-outline"]],template:function(t,e){1&t&&(x.TgZ(0,"ion-content"),x.YNc(1,O,75,67,"div",0),x.ALo(2,"async"),x.YNc(3,J,3,0,"ion-fab",1),x.ALo(4,"async"),x.YNc(5,y,3,0,"ion-fab",2),x.ALo(6,"async"),x.qZA()),2&t&&(x.xp6(1),x.Q6J("ngIf",x.lcZ(2,3,e.state$)),x.xp6(2),x.Q6J("ngIf",0!==x.lcZ(4,5,e.currentSlide$)),x.xp6(2),x.Q6J("ngIf",3!==x.lcZ(6,7,e.currentSlide$)))},directives:[r.W2,i.O5,r.Hr,r.A$,A.KE,A.hX,l.gD,o.JJ,o.On,i.sg,r.hM,r.gu,r.YG,s.Nt,o.Fj,w.ey,r.Q$,r.X7,r.IJ,r.W4],pipes:[i.Ov,c.X$],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;overflow-y:auto;min-height:725px;height:100%}ion-slides[_ngcontent-%COMP%]{height:auto}.swiper-slide[_ngcontent-%COMP%]{overflow:visible;display:block}.swiper-slide[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:2.8rem}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;max-width:80%;margin:30px 0 0;pointer-events:none}.slide-container[_ngcontent-%COMP%]{padding-top:20px;max-width:400px;margin:0 auto}  .swiper-pagination{position:fixed!important}b[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{padding:0 40px;font-size:14px;line-height:1.5;color:#60646b;color:var(--ion-color-step-600, #60646b);margin:0 auto}  p b{color:var(--ion-color-primary);color:var(--ion-text-color, var(--ion-color-primary));font-weight:500}mat-form-field[_ngcontent-%COMP%]{margin:0 auto;width:100%;padding-left:30px;padding-right:30px;font-size:15px}mat-form-field[_ngcontent-%COMP%]:first-child{margin-top:20px}ion-button[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;height:50px;padding-left:27px;padding-right:31px;width:100%}ion-button[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{width:calc(100% + 25px);position:absolute;bottom:0}ion-button[_ngcontent-%COMP%]:last-child{margin-top:5px;margin-bottom:40px}.imgInit[_ngcontent-%COMP%]{max-height:265px!important;transform:translateY(calc(50vh - 50% - 50px));transition:transform .5s ease-in-out .2s;margin-bottom:-65px!important}.ios[_ngcontent-%COMP%]   .imgInit[_ngcontent-%COMP%]{transform:translateY(calc(50vh + 0px - 50% - 10px - var(--ion-safe-area-top) - var(--ion-safe-area-bottom)))}.imgInitDone[_ngcontent-%COMP%]{transform:translateY(0)!important}.init[_ngcontent-%COMP%]{transform:scale(0);opacity:0;transition:opacity .5s ease-in-out .5s,transform .5s ease-in-out .5s}.initDone[_ngcontent-%COMP%]{transform:scale(1);opacity:1;transition:opacity .5s ease-in-out .5s,transform .5s ease-in-out .5s}.theme[_ngcontent-%COMP%]{padding:5px 5px 15px}ion-fab-button[_ngcontent-%COMP%]{--box-shadow: none;--ion-color-base: transparent !important}"],changeDetection:0}),t})();const $=[{path:"",canActivate:[n(82828).n],component:U}];let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({imports:[[g.Bz.forChild($)],g.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=x.oAB({type:t}),t.\u0275inj=x.cJS({imports:[[i.ez,o.u5,r.Pc,a.p9,l.LD,s.c,c.aw,S]]}),t})()}}]);