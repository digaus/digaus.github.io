"use strict";(self.webpackChunkShellyHome=self.webpackChunkShellyHome||[]).push([[3544],{63544:function(t,e,n){n.r(e),n.d(e,{WelcomePageModule:function(){return S}});var i=n(38583),o=n(3679),a=n(7539),s=n(49983),l=n(22850),r=n(92859),c=n(29790),g=n(63423),p=n(64762),d=n(88592),m=n(26215),u=n(88002),h=n(97722),Z=n(37716),f=n(56448),x=n(56149),v=n(15806),b=n(98295),A=n(72458);const w=["slides"];function T(t,e){if(1&t&&(Z.TgZ(0,"mat-option",27),Z._uU(1),Z.ALo(2,"translate"),Z.qZA()),2&t){const t=e.$implicit;Z.Q6J("value",t),Z.xp6(1),Z.hij(" ",Z.lcZ(2,2,"app.commons.languages["+t+"].label")," ")}}function M(t,e){1&t&&(Z.TgZ(0,"ion-label"),Z._uU(1),Z.ALo(2,"translate"),Z.qZA()),2&t&&(Z.Udp("margin-top","1px"),Z.xp6(1),Z.Oqu(Z.lcZ(2,3,"app.component.more.dark-theme.label")))}function C(t,e){1&t&&(Z.TgZ(0,"ion-label"),Z._uU(1),Z.ALo(2,"translate"),Z.qZA()),2&t&&(Z.Udp("margin-top","1px"),Z.xp6(1),Z.Oqu(Z.lcZ(2,3,"app.component.more.light-theme.label")))}function L(t,e){1&t&&(Z.TgZ(0,"ion-label"),Z._uU(1),Z.ALo(2,"translate"),Z.qZA()),2&t&&(Z.Udp("margin-top","1px"),Z.xp6(1),Z.Oqu(Z.lcZ(2,3,"app.component.more.system-theme.label")))}function q(t,e){1&t&&Z._UZ(0,"ion-progress-bar",28)}function _(t,e){1&t&&Z._UZ(0,"ion-progress-bar",28)}function k(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"div",3),Z.TgZ(1,"ion-slides",4,5),Z.NdJ("ionSlideDidChange",function(){return Z.CHM(t),Z.oxw().slidesDidChange()}),Z.TgZ(3,"ion-slide"),Z.TgZ(4,"div",6),Z.TgZ(5,"img",7),Z.NdJ("load",function(){return Z.CHM(t),Z.oxw().imageLoaded()}),Z.ALo(6,"async"),Z.qZA(),Z.TgZ(7,"div",8),Z.TgZ(8,"h2"),Z._uU(9),Z.ALo(10,"translate"),Z.qZA(),Z._UZ(11,"p",9),Z.ALo(12,"translate"),Z.TgZ(13,"mat-form-field",10),Z.TgZ(14,"mat-label"),Z._uU(15),Z.ALo(16,"translate"),Z.qZA(),Z.TgZ(17,"mat-select",11),Z.NdJ("ngModelChange",function(e){return Z.CHM(t),Z.oxw().language=e})("ngModelChange",function(){return Z.CHM(t),Z.oxw().selectLang()}),Z.YNc(18,T,3,4,"mat-option",12),Z.qZA(),Z.qZA(),Z.TgZ(19,"p",13),Z.TgZ(20,"ion-chip",14),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().toggleTheme()}),Z._UZ(21,"ion-icon",15),Z.YNc(22,M,3,5,"ion-label",16),Z.YNc(23,C,3,5,"ion-label",16),Z.YNc(24,L,3,5,"ion-label",16),Z.qZA(),Z.qZA(),Z.TgZ(25,"p"),Z.TgZ(26,"a",17),Z.TgZ(27,"b"),Z.TgZ(28,"u"),Z._uU(29),Z.ALo(30,"translate"),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.TgZ(31,"ion-slide"),Z.TgZ(32,"div",6),Z._UZ(33,"img",18),Z.TgZ(34,"h2"),Z._uU(35),Z.ALo(36,"translate"),Z.qZA(),Z._UZ(37,"p",9),Z.ALo(38,"translate"),Z.qZA(),Z.qZA(),Z.TgZ(39,"ion-slide"),Z.TgZ(40,"div",6),Z._UZ(41,"img",19),Z.TgZ(42,"h2"),Z._uU(43),Z.ALo(44,"translate"),Z.qZA(),Z._UZ(45,"p",9),Z.ALo(46,"translate"),Z.qZA(),Z.qZA(),Z.TgZ(47,"ion-slide"),Z.TgZ(48,"div",6),Z._UZ(49,"img",20),Z.TgZ(50,"h2"),Z._uU(51),Z.ALo(52,"translate"),Z.qZA(),Z._UZ(53,"p",9),Z.ALo(54,"translate"),Z.TgZ(55,"ion-button",21),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().skipLogin()}),Z._uU(56),Z.ALo(57,"translate"),Z._UZ(58,"ion-icon",22),Z.YNc(59,q,1,0,"ion-progress-bar",23),Z.qZA(),Z.TgZ(60,"mat-form-field",10),Z.TgZ(61,"mat-label"),Z._uU(62),Z.ALo(63,"translate"),Z.qZA(),Z.TgZ(64,"input",24),Z.NdJ("ngModelChange",function(e){return Z.CHM(t),Z.oxw().email=e}),Z.qZA(),Z.qZA(),Z.TgZ(65,"mat-form-field",10),Z.TgZ(66,"mat-label"),Z._uU(67),Z.ALo(68,"translate"),Z.qZA(),Z.TgZ(69,"input",25),Z.NdJ("ngModelChange",function(e){return Z.CHM(t),Z.oxw().password=e}),Z.qZA(),Z.qZA(),Z.TgZ(70,"ion-button",21),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().executeLogin()}),Z._uU(71),Z.ALo(72,"translate"),Z._UZ(73,"ion-icon",26),Z.YNc(74,_,1,0,"ion-progress-bar",23),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA(),Z.qZA()}if(2&t){const t=e.ngIf,n=Z.oxw();Z.xp6(1),Z.Q6J("options",n.slideOpts),Z.xp6(4),Z.ekj("imgInitDone",t.initDone),Z.Q6J("src",!1===Z.lcZ(6,37,n.darkTheme$)?"./assets/images/logo.png":"./assets/images/logo-dark.png",Z.LSH),Z.xp6(2),Z.ekj("initDone",t.initDone),Z.xp6(2),Z.Oqu(Z.lcZ(10,39,"app.component.welcome.welcome.label")),Z.xp6(2),Z.Q6J("innerHTML",Z.lcZ(12,41,"app.component.welcome.welcome-text.label"),Z.oJD),Z.xp6(2),Z.Udp("padding-top","50px"),Z.xp6(2),Z.Oqu(Z.lcZ(16,43,"app.commons.languages.label")),Z.xp6(2),Z.Q6J("ngModel",n.language),Z.xp6(1),Z.Q6J("ngForOf",t.languages),Z.xp6(4),Z.Q6J("ngIf",!0===n.settings.darkTheme),Z.xp6(1),Z.Q6J("ngIf",!1===n.settings.darkTheme),Z.xp6(1),Z.Q6J("ngIf",null==n.settings.darkTheme),Z.xp6(5),Z.Oqu(Z.lcZ(30,45,"app.component.welcome.languages-missing.label")),Z.xp6(4),Z.Udp("padding-top","15px")("padding-bottom","15px"),Z.xp6(2),Z.Oqu(Z.lcZ(36,47,"app.component.welcome.creation.label")),Z.xp6(2),Z.Q6J("innerHTML",Z.lcZ(38,49,"app.component.welcome.creation-text.label"),Z.oJD),Z.xp6(6),Z.Oqu(Z.lcZ(44,51,"app.component.welcome.features.label")),Z.xp6(2),Z.Q6J("innerHTML",Z.lcZ(46,53,"app.component.welcome.features-text.label"),Z.oJD),Z.xp6(6),Z.Oqu(Z.lcZ(52,55,"app.component.welcome.start.label")),Z.xp6(2),Z.Q6J("innerHTML",Z.lcZ(54,57,"app.component.welcome.start-text.label"),Z.oJD),Z.xp6(2),Z.Q6J("disabled",t.loginLoading||t.skipLoginLoading),Z.xp6(1),Z.hij(" ",Z.lcZ(57,59,"app.component.welcome.skip-login.label")," "),Z.xp6(3),Z.Q6J("ngIf",t.skipLoginLoading),Z.xp6(3),Z.Oqu(Z.lcZ(63,61,"app.component.welcome.email.label")),Z.xp6(2),Z.Q6J("ngModel",n.email),Z.xp6(3),Z.Oqu(Z.lcZ(68,63,"app.component.welcome.password.label")),Z.xp6(2),Z.Q6J("ngModel",n.password),Z.xp6(1),Z.Q6J("disabled",t.loginLoading||t.skipLoginLoading),Z.xp6(1),Z.hij(" ",Z.lcZ(72,65,"app.component.welcome.login.label")," "),Z.xp6(3),Z.Q6J("ngIf",t.loginLoading)}}function O(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"ion-fab",29),Z.TgZ(1,"ion-fab-button",30),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().slides.slidePrev()}),Z._UZ(2,"ion-icon",31),Z.qZA(),Z.qZA()}}function J(t,e){if(1&t){const t=Z.EpF();Z.TgZ(0,"ion-fab",32),Z.TgZ(1,"ion-fab-button",30),Z.NdJ("click",function(){return Z.CHM(t),Z.oxw().slides.slideNext()}),Z._UZ(2,"ion-icon",33),Z.qZA(),Z.qZA()}}let y=(()=>{class t{constructor(t,e,n,i,o){this.authService=t,this.navController=e,this.lookupService=n,this.websocketService=i,this.translateService=o,this.state$=new m.X({initDone:!1}),this.slideOpts={initialSlide:0,speed:400},this.currentSlide$=new m.X(0)}ngOnInit(){this.state$.value.languages=this.translateService.langs,this.state$.next(this.state$.value),this.translateService.onLangChange.pipe((0,u.U)(()=>this.translateService.langs)).subscribe(t=>{this.state$.value.languages=t,this.state$.next(this.state$.value)}),this.language=this.translateService.currentLang,this.settings=this.lookupService.settings,this.darkTheme$=this.lookupService.subDarkTheme()}selectLang(){this.translateService.use(this.language);const t=this.lookupService.settings;t.language=this.language,this.lookupService.setSettings(t)}toggleTheme(){!0===this.settings.darkTheme?this.settings.darkTheme=!1:!1===this.settings.darkTheme?this.settings.darkTheme=void 0:null==this.settings.darkTheme&&(this.settings.darkTheme=!0),this.lookupService.setSettings(this.settings),this.lookupService.setDarkMode()}imageLoaded(){return(0,p.mG)(this,void 0,void 0,function*(){yield(0,h.Vs)(200),yield d.c.hide({fadeOutDuration:0}),this.state$.value.initDone=!0,this.state$.next(this.state$.value),this.slides.update(),yield(0,h.Vs)(10),this.slides.update()})}skipLogin(){return(0,p.mG)(this,void 0,void 0,function*(){this.state$.value.skipLoginLoading=!0,this.state$.next(this.state$.value),yield this.navController.navigateRoot("dashboard",{animated:!0}),this.state$.value.skipLoginLoading=!1,this.state$.next(this.state$.value)})}executeLogin(){return(0,p.mG)(this,void 0,void 0,function*(){this.state$.value.loginLoading=!0,this.state$.next(this.state$.value);const t=yield this.authService.login(this.email,this.password);t&&(this.websocketService.connect(this.email,t),yield this.navController.navigateRoot("dashboard",{animated:!0})),this.state$.value.loginLoading=!1,this.state$.next(this.state$.value)})}slidesDidChange(){return(0,p.mG)(this,void 0,void 0,function*(){const t=yield this.slides.getActiveIndex();this.currentSlide$.next(t)})}}return t.\u0275fac=function(e){return new(e||t)(Z.Y36(f.e),Z.Y36(r.SH),Z.Y36(x.W),Z.Y36(v.i),Z.Y36(c.sK))},t.\u0275cmp=Z.Xpm({type:t,selectors:[["app-welcome"]],viewQuery:function(t,e){if(1&t&&Z.Gf(w,5),2&t){let t;Z.iGM(t=Z.CRH())&&(e.slides=t.first)}},decls:7,vars:9,consts:[["class","container",4,"ngIf"],["mode","md","vertical","bottom","horizontal","start","slot","fixed",4,"ngIf"],["mode","md","vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"container"],["pager","true",3,"options","ionSlideDidChange"],["slides",""],[1,"slide-container"],[1,"imgInit",3,"src","load"],[1,"init"],[3,"innerHTML"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"theme"],[3,"click"],["color","primary","name","contrast"],[3,"margin-top",4,"ngIf"],["href","https://github.com/digaus/capacitor-shellyhome","target","_blank"],["src","./assets/images/pack1/026-lighting.svg"],["src","./assets/images/pack1/034-responsive.svg"],["src","./assets/images/pack1/040-smart house.svg"],["fill","clear",3,"disabled","click"],["slot","end","name","arrow-forward"],["type","indeterminate",4,"ngIf"],["matInput","","type","email",3,"ngModel","ngModelChange"],["matInput","","type","password",3,"ngModel","ngModelChange"],["slot","end","name","log-in-outline"],[3,"value"],["type","indeterminate"],["mode","md","vertical","bottom","horizontal","start","slot","fixed"],["size","small","color","light",3,"click"],["name","chevron-back-outline"],["mode","md","vertical","bottom","horizontal","end","slot","fixed"],["name","chevron-forward-outline"]],template:function(t,e){1&t&&(Z.TgZ(0,"ion-content"),Z.YNc(1,k,75,67,"div",0),Z.ALo(2,"async"),Z.YNc(3,O,3,0,"ion-fab",1),Z.ALo(4,"async"),Z.YNc(5,J,3,0,"ion-fab",2),Z.ALo(6,"async"),Z.qZA()),2&t&&(Z.xp6(1),Z.Q6J("ngIf",Z.lcZ(2,3,e.state$)),Z.xp6(2),Z.Q6J("ngIf",0!==Z.lcZ(4,5,e.currentSlide$)),Z.xp6(2),Z.Q6J("ngIf",3!==Z.lcZ(6,7,e.currentSlide$)))},directives:[r.W2,i.O5,r.Hr,r.A$,b.KE,b.hX,l.gD,o.JJ,o.On,i.sg,r.hM,r.gu,r.YG,s.Nt,o.Fj,A.ey,r.Q$,r.X7,r.IJ,r.W4],pipes:[i.Ov,c.X$],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;overflow-y:auto;min-height:725px;height:100%}ion-slides[_ngcontent-%COMP%]{height:auto}.swiper-slide[_ngcontent-%COMP%]{overflow:visible;display:block}.swiper-slide[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:2.8rem}.swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;max-width:80%;margin:30px 0 0;pointer-events:none}.slide-container[_ngcontent-%COMP%]{padding-top:20px;max-width:400px;margin:0 auto}  .swiper-pagination{position:fixed!important}b[_ngcontent-%COMP%]{font-weight:500}p[_ngcontent-%COMP%]{padding:0 40px;font-size:14px;line-height:1.5;color:#60646b;color:var(--ion-color-step-600, #60646b);margin:0 auto}  p b{color:var(--ion-color-primary);color:var(--ion-text-color, var(--ion-color-primary));font-weight:500}mat-form-field[_ngcontent-%COMP%]{margin:0 auto;width:100%;padding-left:30px;padding-right:30px;font-size:15px}mat-form-field[_ngcontent-%COMP%]:first-child{margin-top:20px}ion-button[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;height:50px;padding-left:27px;padding-right:31px;width:100%}ion-button[_ngcontent-%COMP%]   ion-progress-bar[_ngcontent-%COMP%]{width:calc(100% + 25px);position:absolute;bottom:0}ion-button[_ngcontent-%COMP%]:last-child{margin-top:5px;margin-bottom:40px}.imgInit[_ngcontent-%COMP%]{max-height:265px!important;transform:translateY(calc(50vh - 50% - 50px));transition:transform .5s ease-in-out .2s;margin-bottom:-65px!important}.ios[_ngcontent-%COMP%]   .imgInit[_ngcontent-%COMP%]{transform:translateY(calc(50vh + 0px - 50% - 10px - var(--ion-safe-area-top) - var(--ion-safe-area-bottom)))}.imgInitDone[_ngcontent-%COMP%]{transform:translateY(0)!important}.init[_ngcontent-%COMP%]{transform:scale(0);opacity:0;transition:opacity .5s ease-in-out .5s,transform .5s ease-in-out .5s}.initDone[_ngcontent-%COMP%]{transform:scale(1);opacity:1;transition:opacity .5s ease-in-out .5s,transform .5s ease-in-out .5s}.theme[_ngcontent-%COMP%]{padding:5px 5px 15px}ion-fab-button[_ngcontent-%COMP%]{--box-shadow: none;--ion-color-base: transparent !important}"],changeDetection:0}),t})();const U=[{path:"",canActivate:[n(82828).n],component:y}];let $=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[g.Bz.forChild(U)],g.Bz]}),t})(),S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Z.oAB({type:t}),t.\u0275inj=Z.cJS({imports:[[i.ez,o.u5,r.Pc,a.p9,l.LD,s.c,c.aw,$]]}),t})()}}]);